{"componentChunkName":"component---src-templates-blog-post-js","path":"/django/drf-authentication-2/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"e447f1ae-3754-59bd-8b34-734d65e86e87","excerpt":"ğŸ‘® ì´ì „ í¬ìŠ¤íŒ… Contents 1. dj-rest-authì—ì„œ JWT ì‚¬ìš©í•˜ê¸° ì„¸íŒ… íŒŒì¼ì— (dj-rest-auth) JWT ì„¤ì • ì¶”ê°€í•˜ê¸° 2. simplejwt ì„¸íŒ… íŒŒì¼ì— (djangorestframework-simplejwt) JWT ì„¤ì • ì¶”ê°€í•˜ê¸° 1. dj-rest-authâ€¦","html":"<br>\n<blockquote>\n<p><a href=\"https://soojiinleee.github.io/Django/drf-authentication(01)-dj-rest-auth-&#x26;-tokenauthentication/\">ğŸ‘® <em>ì´ì „ í¬ìŠ¤íŒ…</em></a></p>\n</blockquote>\n<br>\n<h1>Contents</h1>\n<ul>\n<li><a href=\"#1-dj-rest-auth%EC%97%90%EC%84%9C-jwt-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">1. dj-rest-authì—ì„œ JWT ì‚¬ìš©í•˜ê¸°</a>\n<ul>\n<li><a href=\"#%EC%84%B8%ED%8C%85-%ED%8C%8C%EC%9D%BC%EC%97%90--dj-rest-auth--jwt-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">ì„¸íŒ… íŒŒì¼ì— (dj-rest-auth) JWT ì„¤ì • ì¶”ê°€í•˜ê¸°</a></li>\n</ul>\n</li>\n<li><a href=\"#2-simplejwt\">2. simplejwt</a>\n<ul>\n<li><a href=\"#%EC%84%B8%ED%8C%85-%ED%8C%8C%EC%9D%BC%EC%97%90--djangorestframework-simplejwt--jwt-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">ì„¸íŒ… íŒŒì¼ì— (djangorestframework-simplejwt) JWT ì„¤ì • ì¶”ê°€í•˜ê¸°</a></li>\n</ul>\n</li>\n</ul>\n<br>\n<br>\n<h1>1. dj-rest-authì—ì„œ JWT ì‚¬ìš©í•˜ê¸°</h1>\n<ul>\n<li><code class=\"language-text\">Django</code>ì—ì„œ <code class=\"language-text\">JWT</code>ë¥¼ ì§€ì›í•˜ëŠ” <code class=\"language-text\">djangorestframework-simplejwt</code> íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ê¸°ë³¸ Token ì¸ì¦ì—ì„œ <code class=\"language-text\">JWT</code>ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.</li>\n<li><code class=\"language-text\">djangorestframework-simplejwt</code> ì„¤ì¹˜ í›„ì— <code class=\"language-text\">dj-rest-auth</code>ì˜ <code class=\"language-text\">JWT</code> ì„¤ì •ì„ ë§ˆë¬´ë¦¬ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li>\n</ul>\n<h2>ì„¸íŒ… íŒŒì¼ì— (dj-rest-auth) JWT ì„¤ì • ì¶”ê°€í•˜ê¸°</h2>\n<ol>\n<li><code class=\"language-text\">REST_FRAMEWORK</code> ì„¸íŒ… ì¶”ê°€\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"> REST_FRAMEWORK <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">'DEFAULT_AUTHENTICATION_CLASSES'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>\n       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n       <span class=\"token string\">'dj_rest_auth.jwt_auth.JWTCookieAuthentication'</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">dj-rest-auth</code>ì—ì„œ ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ë“± ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ì¸ì¦ í™•ì¸í•˜ëŠ” ë¡œì§ì´ ìˆìœ¼ë¯€ë¡œ ì¶”ê°€í•œë‹¤.</li>\n</ul>\n</li>\n</ol>\n<br>\n<ol start=\"2\">\n<li>\n<p><code class=\"language-text\">REST_AUTH</code> ì„¤ì • ( âœ… <strong>ì œì¼ ì¤‘ìš”</strong> )</p>\n<p>ë‹¤ë¥¸ ë¸”ë¡œê·¸ë¥¼ ë´¤ì„ ë•ŒëŠ” <code class=\"language-text\">REST_USE_JWT = TRUE</code>ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤ê³  í–ˆì§€ë§Œ, ì˜¬í•´ 2ì›” ì„¤ì • ë°©ë²•ì´ ë°”ë€ ê±° ê°™ë‹¤.\nì–´ì¨Œë“  ê³µì‹ ë¬¸ì„œì— ë‚˜ì™€ ìˆëŠ” ëŒ€ë¡œ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">REST_AUTH <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n <span class=\"token string\">'USE_JWT'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë‹¤ë¥¸ ì„¤ì •ì„ ì œëŒ€ë¡œ í–ˆì–´ë„ <code class=\"language-text\">USE_JWT</code>ë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´, <code class=\"language-text\">dj-rest-auth</code>ì˜ ê¸°ë³¸ ì¸ì¦ ë°©ì‹ì¸ <code class=\"language-text\">Token</code>ìœ¼ë¡œ ì§„í–‰ëœë‹¤.</p>\n</li>\n</ol>\n<br>\n<ol start=\"3\">\n<li>\n<p><code class=\"language-text\">REST_AUTH</code> ì¶”ê°€ ì„¤ì •</p>\n<p><code class=\"language-text\">dj-rest-auth</code> ê³µì‹ë¬¸ì„œì—ì„œ <code class=\"language-text\">Configuration</code> ì¤‘ <code class=\"language-text\">JWT</code> ê´€ë ¨ ë‚´ìš©ì„ í™•ì¸í•œ ë’¤ í•„ìš”ì— ë§ê²Œ ì¶”ê°€ ì„¤ì •ì„ í•˜ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">REST_AUTH <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'JWT_AUTH_HTTPONLY'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">JWT_AUTH_HTTPONLY</code> : <code class=\"language-text\">refresh_token</code>ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ë¼ë©´, <strong>False</strong>ë¡œ ì„¤ì •ì„ ë°”ê¿”ì•¼í•œë‹¤.</li>\n<li><strong>True</strong>ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ <code class=\"language-text\">refresh_token</code> ì—†ì´ ì•„ë˜ì™€ ê°™ì´ ë¦¬í„´ëœë‹¤.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/16332d6271d8685143973a73ba24290d/a9965/only_access_token.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVR42p2TW07DMBBFvf81sBaExAb4QP2hKKJ5NG0SJ01SP2I7lxmXlPIDDZaOxjO2r/y4FlJKjOOIeZ4RQoD3PkbOmd/aMup8wMPjG542JcRut8N2u0WSJEjTNKK1viz4Q/C2hTBHRFmWyLIMRVGgrmt0XQelFJxz+E8TLQk0dRPh4zeNRN/3tEsTj78Wsd+XyIsS8jRCG4dp8rDWwZiJRO3dKGXjGpFmBT6KCgc5oBvOUCtEfrAI2rOGyivomu6uOUFxXLjNq+/8fJSXftVe+rHWQrc9hCbBPj9i4CIvHBRt36yGdQztVEzO04t6ujsXcV/5Gm7XCjZxCP5q6FWvSvMn8qwhV/DnUNQXbOKmaZDnebRL27bRPgucsz95zlLjPsNjHLvuBDeRzYirIBt7GAayjI0/xRhzN5M1eE0OeC8kvbK1sbhEFluDUhrBWTxv9nhJKnwC3f3wtRjm6fwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"only_access_token\"\n        title=\"\"\n        src=\"/static/16332d6271d8685143973a73ba24290d/f058b/only_access_token.png\"\n        srcset=\"/static/16332d6271d8685143973a73ba24290d/c26ae/only_access_token.png 158w,\n/static/16332d6271d8685143973a73ba24290d/6bdcf/only_access_token.png 315w,\n/static/16332d6271d8685143973a73ba24290d/f058b/only_access_token.png 630w,\n/static/16332d6271d8685143973a73ba24290d/40601/only_access_token.png 945w,\n/static/16332d6271d8685143973a73ba24290d/a9965/only_access_token.png 1171w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n</ol>\n<h3>ì°¸ê³ </h3>\n<ul>\n<li><a href=\"https://dj-rest-auth.readthedocs.io/en/latest/installation.html#json-web-token-jwt-support-optional\">dj-rest-auth JWT Support</a></li>\n<li><a href=\"https://dj-rest-auth.readthedocs.io/en/latest/configuration.html\">dj-rest-auth Configuration</a></li>\n</ul>\n<br>\n<br>\n<h1>2. SimpleJwt</h1>\n<ul>\n<li><code class=\"language-text\">JWT</code> ìœ íš¨ì‹œê°„ ì„¤ì • ë° <code class=\"language-text\">blacklist</code> ë“±ì´ ìˆì–´ ë³´ì•ˆ ì„¤ì •ì„ í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.</li>\n</ul>\n<h2>ì„¸íŒ… íŒŒì¼ì— (djangorestframework-simplejwt) JWT ì„¤ì • ì¶”ê°€í•˜ê¸°</h2>\n<ol>\n<li><code class=\"language-text\">REST_FRAMEWORK</code> ì„¸íŒ… ì¶”ê°€\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">REST_FRAMEWORK <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n <span class=\"token string\">'DEFAULT_AUTHENTICATION_CLASSES'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>\n     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n     <span class=\"token string\">'rest_framework_simplejwt.authentication.JWTAuthentication'</span><span class=\"token punctuation\">,</span>\n <span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n<br>\n<ol start=\"2\">\n<li><code class=\"language-text\">INSTALLED_APPS</code> ì¶”ê°€\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">INSTALLED_APPS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>\n <span class=\"token string\">'rest_framework_simplejwt'</span><span class=\"token punctuation\">,</span>\n <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ol>\n<br>\n<ol start=\"3\">\n<li>\n<p><code class=\"language-text\">SIMPLE_JWT</code> ì„¤ì •</p>\n<p><code class=\"language-text\">SimpleJWT</code>ì˜ <code class=\"language-text\">Settings</code> ì—ì„œ í•„ìš”í•œ ì„¤ì • ë‚´ìš© í™•ì¸ í›„ ì¶”ê°€í•˜ë©´ ëœë‹¤.\n<br>\ní† í° íƒ€ì…ì— ë”°ë¼ ìœ íš¨ê¸°ê°„ ì„¤ì •ì„ í•  ìˆ˜ ìˆìœ¼ë©°, <code class=\"language-text\">access_token</code>ê³¼ <code class=\"language-text\">refresh_token</code>ì€ ì•„ë˜ì™€ ê°™ì´ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">SIMPLE_JWT <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"ACCESS_TOKEN_LIFETIME\"</span><span class=\"token punctuation\">:</span> timedelta<span class=\"token punctuation\">(</span>minutes<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"REFRESH_TOKEN_LIFETIME\"</span><span class=\"token punctuation\">:</span> timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">SIMPLE_JWT</code> ì„¤ì •ì´ <code class=\"language-text\">dj-rest-auth</code>ì˜ <code class=\"language-text\">LoginView</code> ë“±ì—ì„œ ì‚¬ìš©ëœë‹¤. (ìì„¸í•œ ë‚´ìš©ì€ <a href=\"https://github.com/iMerica/dj-rest-auth/blob/master/dj_rest_auth/views.py\">dj-rest-auth : views</a> ì°¸ì¡°)</p>\n</li>\n</ol>\n<br>\n<h3>ì°¸ê³ </h3>\n<ul>\n<li><a href=\"https://django-rest-framework-simplejwt.readthedocs.io/en/latest/getting_started.html#installation\">SimpleJWT</a></li>\n<li><a href=\"https://django-rest-framework-simplejwt.readthedocs.io/en/latest/settings.html\">SimpleJWT Settings</a></li>\n<li><a href=\"https://blog.ull.im/engineering/2019/02/07/jwt-strategy.html\">Refresh Tokenê³¼ Sliding Sessionsë¥¼ í™œìš©í•œ JWTì˜ ë³´ì•ˆ ì „ëµ</a><br></li>\n</ul>\n<br>\n<br>\n<blockquote>\n<p>dj-rest-authì—ì„œ JWTë¡œ ì¸ì¦ì„ í•˜ë©´ ì™¸ë¶€ íŒ¨í‚¤ì§€ì¸ SimpleJWT ì´ìš©í•˜ê²Œ ëœë‹¤. dj-reat-authì—ì„œ SimpleJWT ì„¤ì •ì„ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\nê° github ë ˆí¬ì—ì„œ ì½”ë“œê¹Œì§€ í™•ì¸ í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.\n<br>\n<br> From ì™„ì „ ìƒê´€ ì—†ëŠ” ë³„ê°œë¼ê³  ìƒê°í–ˆë‹¤ê°€ ì‚½ì§ˆí•œ ì‚¬ëŒ ğŸš§</p>\n</blockquote>","frontmatter":{"title":"ğŸ“Œ DRF Authentication 2","date":"March 18, 2023","description":"DRFì˜ dj-rest-auth & JWT ì ìš©í•˜ê¸°"}},"previous":{"fields":{"slug":"/django/drf-authentication-1/"},"frontmatter":{"title":"ğŸ“Œ DRF Authentication 1"}},"next":{"fields":{"slug":"/book/practices-of-the-python-pro/"},"frontmatter":{"title":"ğŸ“š í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ìœ„í•œ íŒŒì´ì¬"}}},"pageContext":{"id":"e447f1ae-3754-59bd-8b34-734d65e86e87","previousPostId":"b88ce015-e5f1-55b4-a033-0b4bdc01d9a8","nextPostId":"60edd729-ef34-54be-9e9e-471169a06620"}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}