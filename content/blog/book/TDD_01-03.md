---
title: ğŸ“š TDD Chapter 1~3
date: 2022-05-01
description: ì‚¬ë‚´ ìŠ¤í„°ë”” - íŒŒì´ì¬ì„ ì´ìš©í•œ í´ë¦° ì½”ë“œë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ ì±•í„° 1 ~ 3
---

> [íŒŒì´ì¬ì„ ì´ìš©í•œ í´ë¦° ì½”ë“œë¥¼ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ](https://product.kyobobook.co.kr/detail/S000001556139)

# ìš©ì–´
### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸(Functional Test)
- ì‚¬ìš©ì ê´€ì ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì™¸ë¶€ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒ
- FT ìì²´ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì–‘ì´ ë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸
- ì œëŒ€ë¡œ ëœ ê¸°ëŠ¥ì„±ì„ ê°–ì¶˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ë„ë¡ ë„ìš°ë©°, ê·¸ ê¸°ëŠ¥ì„±ì´ ë§ê°€ì§€ì§€ ì•Šë„ë¡ ë³´ì¥
- ìƒìœ„ ë ˆë²¨ì˜ ê°œë°œì„ ì£¼ë„
- ex) ì‚¬ì´íŠ¸ ì ‘ì† ê°€ëŠ¥ ì—¬ë¶€

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test)
- í”„ë¡œê·¸ë˜ë¨¸ ê´€ì ì—ì„œ ê·¸ ë‚´ë¶€ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒ
- ê¹”ë”í•˜ê³  ë²„ê·¸ ì—†ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ë„ë¡ ë•ëŠ”ë‹¤.
- í•˜ìœ„ ë ˆë²¨ì˜ ê°œë°œì„ ì£¼ë„
- ex) ì½”ë“œ

### ì‚¬ìš©ì ìŠ¤í† ë¦¬(User Story)
- ì‚¬ìš©ì ê´€ì ì—ì„œ ì–´ë–»ê²Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ ê¸°ìˆ í•œ ê²ƒ
- ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ êµ¬ì¡°í™”ë¥¼ ìœ„í•´ ì‚¬ìš©

### ì˜ˆì¸¡ëœ ì‹¤íŒ¨(Expected failure)
- ì˜ë„ì ìœ¼ë¡œ êµ¬í˜„í•œ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ë¥¼ ì˜ë¯¸

<br>
<br>

# TDD ì‘ì—… ìˆœì„œ
1. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì„œ ì‚¬ìš©ì ê´€ì ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„±ì„ ì •ì˜í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•œë‹¤.
2. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê³  ë‚˜ë©´ ì–´ë–»ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í• ì§€ë¥¼ ìƒê°í•œë‹¤. ì´ ì‹œì ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ì„œ ì–´ë–»ê²Œ ì½”ë“œê°€ ë™ì‘í•´ì•¼ í•˜ëŠ” ì§€ ì •ì˜í•œë‹¤.
4. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê³  ë‚˜ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ìˆì„ ì •ë„ì˜ ìµœê³ í•œì˜ ì½”ë“œë§Œ ì‘ì„±. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ê°€ ì™„ì „í•´ì§ˆ ë•Œê¹Œì§€ ê³¼ì • 2~3ì„ ë°˜ë³µí•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤.
5. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‹¤í–‰í•´ì„œ í†µê³¼í•˜ëŠ” ì§€ ë˜ëŠ” ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸. ì´ ê³¼ì •ì—ì„œ ìƒˆë¡œìš´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤.

<br>
<br>

# ğŸŸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤ìŠµ
## ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸_selenium
### í…ŒìŠ¤íŠ¸ ëª©í‘œ
1. íŒŒì´ì–´í­ìŠ¤ ë¸Œë¼ìš°ì € ì°½ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ seleniumì˜ webdriverë¥¼ ê°€ë™
2. ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ë¡œì»¬ PCìƒì˜ ì›¹ í˜ì´ì§€ë¥¼ ì—°ë‹¤
3. ì›¹ í˜ì´ì§€ íƒ€ì´í‹€ì— "Django"ë¼ëŠ” ë‹¨ì–´ê°€ ìˆëŠ”ì§€ í™•ì¸

### ì²« ë²ˆì§¸ ì½”ë“œ
```python
from selenium import webdriver

browser = webdriver.FireFox()
browser.get('http://localhost:8000')

assert 'Django' in browser.title
```

ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ì›¹ ë¸Œë¼ìš°ì €ì¸ `FireFox`ê°€ ì„¤ì¹˜ ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. 
ë§Œì•½, `Chrome`ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•  ê²½ìš° `webdriver.Chrome()`ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤.

ì´ íŒŒì¼ì„ ì‹¤í–‰í•˜ë©´ `selenium`ì—ëŸ¬ê°€ ë°œìƒ í•˜ëŠ”ë° í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ë‚´ìš©ì´ë‹¤.
```python
selenium.common.exceptions.WebDriverException: Message: Reached error page: about:neterror?e=connectionFailure&u=http%3A//localhost%3A8000/&c=UTF-8&d=Firefox%EA%B0%80%20localhost%3A8000%20%EC%84%9C%EB%B2%84%EC%97%90%20%EC%97%B0%EA%B2%B0%ED%95%A0%20%EC%88%98%20%EC%97%86%EC%8A%B5%EB%8B%88%EB%8B%A4.
Stacktrace:
```
ë³„ë„ì˜ í„°ë¯¸ë„ ì°½ì—ì„œ `Django` ì„œë²„ë¥¼ ì‹¤í–‰ í•˜ë©´, ë˜ ë‹¤ë¥¸ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```python
Traceback (most recent call last):
  File "functional_test.py", line 6, in <module>
    assert 'Django' in browser.title
AssertionError
```
`browser.title`ê°€ `The install worked successfully! Congratulations!`ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ë¬¸êµ¬ë¥¼ ë³€ê²½í•œë‹¤.

```commandline
[...]
assert 'Congratulations!' in browser.title
```

í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ ë˜ê³  í„°ë¯¸ë„ì— ì•„ë¬´ëŸ° ì—ëŸ¬ í‘œì‹œê°€ ì•ˆ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.


### ë‘ ë²ˆì§¸ ì½”ë“œ with `unittest`
`unittest` ëª¨ë“ˆì„ ì´ìš© í•´ë³´ì
```python
from selenium import webdriver
import unittest


class NewVisitorTest(unittest.TestCase):

    def setUp(self):
        self.browser = webdriver.Firefox()
        self.browser.implicitly_wait(3)

    def tearDown(self):
        self.browser.quit()
    
    def test_can_start_a_list_and_retrieve_it_later(self):
        # ì—ë””ìŠ¤(Edith)ëŠ” ë©‹ì§„ ì‘ì—… ëª©ë¡ ì˜¨ë¼ì¸ ì•±ì´ ë‚˜ì™”ë‹¤ëŠ” ì†Œì‹ì„ ë“£ê³ 
        # í•´ë‹¹ ì›¹ ì‚¬ì´íŠ¸ë¥¼ í™•ì¸í•˜ëŸ¬ ê°„ë‹¤
        self.browser.get('http://localhost:8000')
        
        # ì›¹ í˜ì´ì§€ íƒ€ì´í‹€ê³¼ í—¤ë”ê°€ 'To-Do'ë¥¼ í‘œì‹œí•˜ê³  ìˆë‹¤
        self.assertIn('To-Do', self.browser.title)
        self.fail('Finish the test!')

if __name__ == '__main__':
    unittest.main(warnings='ignore')
```
- `unittest.TestCase`ë¥¼ ìƒì†í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í´ë˜ìŠ¤ í˜•íƒœë¡œ ë§Œë“ ë‹¤.
- í…ŒìŠ¤íŠ¸ ë©”ì¸ ì½”ë“œëŠ” `test_can_start_a_list...`ë¼ëŠ” ë©”ì†Œë“œì´ë‹¤.
  - `test`ë¼ëŠ” ëª…ì¹­ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ë©”ì†Œë“œëŠ” í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì´ë©° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ìì— ì˜í•´ ì‹¤í–‰ëœë‹¤.
  - í´ë˜ìŠ¤ ë‹¹ í•˜ë‚˜ ì´ìƒì˜ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. 
  - ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ë‚´ìš©ì„ ì•Œ ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ëª…ì¹­ì„ ì‚¬ìš© í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
- `setUp`ê³¼ `teatDown`ì€ ê° í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ê³¼ í›„ì— ì‹¤í–‰ ëœë‹¤. ì—¬ê¸°ì„œëŠ” ë¸Œë¼ìš°ì €ë¥¼ ì‹œì‘í•˜ê³  ë‹«ì„ ë•Œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
  - í…ŒìŠ¤íŠ¸ì— ì—ëŸ¬ê°€ ë°œìƒí•´ë„ `tearDown`ì´ ì‹¤í–‰ ëœë‹¤. 
  - ë‹¨, `setUp`ë‚´ì— `exceoption`ì´ ìˆëŠ” ê²½ìš° `tearDown`ì´ ì‹¤í–‰ ë˜ì§€ ì•ŠëŠ”ë‹¤.
- í˜ì´ì§€ ë¡œë”©ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ `setUp`ì— `implicitly_wait`ë¥¼ ì¶”ê°€í•œë‹¤.
  - `implicitly_wait`(ì•”ë¬µì  ëŒ€ê¸°)ëŠ” í•„ìš”ì— ë”°ë¼ ì§€ì •í•œ ì‹œê°„(ì´ˆ ë‹¨ìœ„)ë§Œí¼ ë™ì‘ì„ ëŒ€ê¸° ìƒíƒœë¡œ ë‘˜ ìˆ˜ ìˆë‹¤.
- `assertIn(a in b)`ì€ `a`ê°€ `b` ì•ˆì— ìˆìœ¼ë©´ `True` íŒë³„ì„ í•˜ëŠ” ë©”ì†Œë“œì´ë‹¤.


ì´ì œ ë‹¤ì‹œ ì„œë²„ë¥¼ ì‹¤í–‰ ì‹œì¼œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´, ìœ ìš©í•œ ë””ë²„ê¹… ì •ë³´ì™€ ë„ì›€ì´ ë˜ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤.
```python
======================================================================
FAIL: test_can_start_a_list_and_retrieve_it_later (__main__.NewVisitorTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "functional_test.py", line 20, in test_can_start_a_list_and_retrieve_it_later
    self.assertIn('To-Do', self.browser.title)
AssertionError: 'To-Do' not found in 'The install worked successfully! Congratulations!'

----------------------------------------------------------------------
Ran 1 test in 3.336s
```

ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ "To-Do" íƒ€ì´í‹€ ë³€ê²½ ì—ëŸ¬ë¥¼ í•´ê²°í•´ë³´ì.

# ğŸ¥” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤ìŠµ
`startapp`ì„ í†µí•´ ë§Œë“¤ì–´ì§„ `lists`ì•±ì— `tests.py` í…œí”Œë¦¿ì´ ìƒì„±ëœë‹¤.

`Django`ì˜ `TestCase`ëŠ” `unittest.TestCase`ì˜ í™•ì¥ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì˜ ê²½ìš°ì—ëŠ” ê·¸ê²ƒì´ ì–´ë–¤í•œ í˜•íƒœë“  ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ìì— ì˜í•´ ì‹¤í–‰ëœë‹¤. ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ í™•ì¸í•´ë³´ì.
```python
from django.test import TestCase

class SmokeTest(TestCase):
    
    def test_bad_maths(self):
        self.assertEqual(1 + 1, 3)
```

`functional_tests.py`ëŠ” ìš°ë¦¬ê°€ ì§ì ‘ ì‹¤í–‰í•˜ì§€ë§Œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì(`python manage.py test`)ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
```python
â¯ python manage.py test          
Found 1 test(s).
Creating test database for alias 'default'...
System check identified no issues (0 silenced).
F
======================================================================
FAIL: test_bad_maths (lists.tests.SmokeTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/s2jiin/Develop/with/startlists/lists/tests.py", line 7, in test_bad_maths
    self.assertEqual(1+1, 3)
AssertionError: 2 != 3

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (failures=1)
Destroying test database for alias 'default'...

```

## í…ŒìŠ¤íŠ¸ ëª©í‘œ
### `Django`ì˜ ì—­í•  ë° ì²˜ë¦¬ íë¦„
#### ì—­í• 
ì¼ë°˜ì ì¸ ì›¹ ì„œë²„ì²˜ëŸ¼ ì‚¬ìš©ìê°€ íŠ¹ì • URLì„ ìš”ì²­í–ˆì„ ë•Œ ì–´ë–¤ ì²˜ë¦¬ë¥¼ í• ì§€ ê²°ì •í•˜ëŠ” ê²ƒ
#### ì²˜ë¦¬ íë¦„
1. íŠ¹ì • URLì— ëŒ€í•œ HTTP "ìš”ì²­"ì„ ë°›ëŠ”ë‹¤.
2. `Django`ëŠ” íŠ¹ì • ê·œì¹™ì„ ì´ìš©í•´ì„œ í•´ë‹¹ ìš”ì²­ì— ì–´ë–¤ ë·° í•¨ìˆ˜ë¥¼ ì‹¤í–‰í• ì§€ ê²°ì •í•œë‹¤.(URL "í•´ì„"ì´ë¼ê³  í•˜ëŠ” ì²˜ë¦¬)
3. ì´ ë·° ê¸°ëŠ¥ì´ ìš”ì²­ì„ ì²˜ë¦¬í•´ì„œ HTTP "ì‘ë‹µ"ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.

### í…ŒìŠ¤íŠ¸ í•´ì•¼ í•  ê²ƒ
1. URLì˜ ì‚¬ì´íŠ¸ ë£¨íŠ¸('/')ë¥¼ í•´ì„í•´ì„œ íŠ¹ì • ë·° ê¸°ëŠ¥ì— ë§¤ì¹­ì‹œí‚¬ ìˆ˜ ìˆëŠ”ê°€?
2. ì´ ë·° ê¸°ëŠ¥ì´ íŠ¹ì • HTMLì„ ë°˜í™˜í•˜ê²Œ í•´ì„œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ìˆëŠ”ê°€?

### ì²« ë²ˆì§¸ ì½”ë“œ : `test` ì½”ë“œ ì‘ì„±
`lists/tests.py`ì— ì•„ë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
```python
# lists/tests.py
from django.urls import resolve
from django.test import TestCase


class HomePageTest(TestCase):

    def test_root_url_resolves_to_home_page_view(self):
        found = resolve('/')
        self.assertEqual(found.func, home_page)
```
- `resolve`ëŠ” `Django` ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜, URLì„ í•´ì„í•´ì„œ ì¼ì¹˜í•˜ëŠ” view í•¨ìˆ˜ë¥¼ ì°¾ëŠ”ë‹¤.
- ì—¬ê¸°ì„œëŠ” "/"(ì‚¬ì´íŠ¸ ë£¨íŠ¸)ê°€ í˜¸ì¶œë  ë•Œ `resolve`ë¥¼ ì‹¤í–‰í•´ì„œ `home_page`ë¼ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
- home_page ëŠ” view í•¨ìˆ˜ë¡œ HTMLì„ ë°˜í™˜í•œë‹¤. 

ì§€ê¸ˆì€ ì´ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì•„ë˜ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```python
ImportError: cannot import name 'home_page' from 'lists.views'
```

`ImportError`ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `views.py`ì— `home_page`ë¥¼ ì •ì˜ í•´ì¤€ë‹¤.

```python
# lists/views.py

from django.shortcuts impoert render

home_page = None
```

ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ê¹Œì™€ ë‹¤ë¥¸ `Resolver404`ë¼ëŠ” ì—ëŸ¬ëŠ” í™•ì¸í•  ìˆ˜ ìˆë‹¤.
```python
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>]], 'path': ''}
```
"/"ë¥¼ í™•ì¸í•˜ë ¤ê³  í•  ë•Œ `Django404`ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  ìˆë‹¤. ì¦‰, `Dajgno`ê°€ "/"ì— í•´ë‹¹í•˜ëŠ” URL ë§µí•‘ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.


### ë‘ ë²ˆì§¸ ì½”ë“œ : `urls.py`
`Django`ëŠ” urls.pyë¥¼ ì´ìš©í•´ì„œ URLì„ ë·° í•¨ìˆ˜ì— ë§µí•‘í•œë‹¤. 
```python
# superlists/urls.py

from django.contrib import admin
from django.urls import path, include
from lists.views import home_page

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', home_page, name='home'),
]
```
- `from lists.views import home_page`ë¡œ `import` ê²½ë¡œ ì„¤ì •í•˜ê³  `path`ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.

```python
TypeError: view must be a callable or a list/tuple in the case of include().
```
404ê°€ ì—ëŸ¬ ëŒ€ì‹  `TypeError`ê°€ ë°œìƒí•œë‹¤.`home_page`ê°€ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ í˜•íƒœê°€ ì•„ë‹ˆì—¬ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ì´ë‹¤. 

`views.py`ì—ì„œ Noneì„ ì‹¤ì œ í•¨ìˆ˜ë¡œ ë³€ê²½í•´ë³´ì. ëª¨ë“  ì½”ë“œ ë³€ê²½ì€ í…ŒìŠ¤íŠ¸ì— ì˜í•´ ê²€ì¦ë˜ì–´ì•¼ í•œë‹¤.

```python
# lists/views.py

def home_page():
    pass
```

ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´,

```python
â¯ python manage.py test
Found 1 test(s).
Creating test database for alias 'default'...
System check identified no issues (0 silenced).
.
----------------------------------------------------------------------
Ran 1 test in 0.001s

OK
Destroying test database for alias 'default'...

```

íœ´, ë“œë””ì–´ ì²« ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí–ˆë‹¤.


### ì„¸ ë²ˆì§¸ ì½”ë“œ : `views.py`

ë‹¨ìˆœíˆ ë¹ˆ í•¨ìˆ˜ê°€ ì•„ë‹Œ HTML í˜•ì‹ì˜ ì‹¤ì œ ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤.

tests.py ì— HTMLí˜•ì‹ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.

```python
# lists/tests.py

from django.urls import resolve
from django.test import TestCase
from django.http import HttpRequest

from lists.views import home_page


class HomePageTest(TestCase):

    def test_root_url_resolves_to_home_page_view(self):
        found = resolve('/')
        self.assertEqual(found.func, home_page)

    def test_home_page_returns_correct_html(self):
        request = HttpRequest()
        response = home_page(request)
        self.assertTrue(response.content.startswith(b'<html>'))
        self.assertIn(b'<title>To-Do lists</title>', response.content)
        self.assertTrue(response.content.endswith(b'</html>'))
```
- `HttpRequest` ê°ì²´ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì–´ë–¤ ìš”ì²­ì„ ë¸Œë¼ìš°ì €ì— ë³´ë‚´ëŠ”ì§€ í™•ì¸í•œë‹¤.
- ì´ê²ƒì„ `home_page`ë·°ì— ì „ë‹¬í•´ì„œ ì‘ë‹µì„ ì·¨ë“í•œë‹¤. ì´ ê°ì²´ëŠ” `HttpResponse`ë¼ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë‹¤. ì‘ë‹µ ë‚´ìš©ì´ íŠ¹ì • ì†ì„±ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
- ì‘ë‹µ ë‚´ìš©ì´ <html></html>ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. `response.content`ëŠ” `byte`í˜• ë°ì´í„°ë¡œ, íŒŒì´ì¬ ë¬¸ìì—´ì´ ì•„ë‹ˆë‹¤. ë”°ë¼ì„œ `b'` êµ¬ë¬¸ì„ ì‚¬ìš©í•´ì„œ ë¹„êµí•œë‹¤.
- `<title>` íƒœê·¸ì— "To-Do lists" ë‹¨ì–´ê°€ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ì•ì„  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ì—ì„œ í™•ì¸í•œ ê²ƒì´ê¸° ë•Œë¬¸ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë„ í™•ì¸í•´ì£¼ì–´ì•¼ í•œë‹¤.

ë‹¤ì‹œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ë˜ ë‹¤ë¥¸ ì—ëŸ¬ê°€ ë‚˜ì˜¨ë‹¤.
```python
======================================================================
ERROR: test_home_page_returns_correct_html (lists.tests.HomePageTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/s2jiin/Develop/with/startlists/lists/tests.py", line 15, in test_home_page_returns_correct_html
    response = home_page(request)
TypeError: home_page() takes 0 positional arguments but 1 was given

----------------------------------------------------------------------
Ran 2 tests in 0.001s

FAILED (errors=1)

```

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ - ì½”ë“œ ì£¼ê¸°
1. í„°ë¯¸ë„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ì„œ ì–´ë–»ê²Œ ì‹¤í•´íŒŒëŠ”ì§€ í™•ì¸í•œë‹¤.
2. í¸ì§‘ê¸°ìƒì—ì„œ í˜„ì¬ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•œ ìµœì†Œí•œì˜ ì½”ë“œë¥¼ ë³€ê²½í•œë‹¤.
3. ê·¸ë¦¬ê³  ì´ê²ƒì„ ë°˜ë³µí•œë‹¤.

- ìµœì†Œí•œì˜ ì½”ë“œ ë³€ê²½ : `request` ì¶”ê°€
  ```python
  # lists/views.py
  
  def home_page(request):
      pass
  ```
  
- í…ŒìŠ¤íŠ¸
  ```python
  self.assertTrue(response.content.startswith(b'<html>'))
  AttributeError: 'NoneType' object has no attribute 'content'
  
  ----------------------------------------------------------------------
  Ran 2 tests in 0.001s
  
  FAILED (errors=1)
  ```
  
- ì½”ë“œ : ê°€ì •í•œ ëŒ€ë¡œ `Django.http.httpResponse`ë¥¼ ì‚¬ìš©
  ```python
  # lists/views.py
  
  from django.http import HttpResponse
  
  
  def home_page(request):
      return HttpResponse()
  ```

- ë‹¤ì‹œ í…ŒìŠ¤íŠ¸
  ```python
  self.assertTrue(response.content.startswith(b'<html>'))
  AssertionError: False is not true
  
  ----------------------------------------------------------------------
  Ran 2 tests in 0.001s
  
  FAILED (failures=1)
  ```

- ë‹¤ì‹œ ì½”ë“œ : html íƒœê·¸ ì¶”ê°€
  ```python
  def home_page(request):
      return HttpResponse('<html><title>To-Do lists</title>')
  ```

- í…ŒìŠ¤íŠ¸
  ```python
  self.assertTrue(response.content.endswith(b'</html>'))
  AssertionError: False is not true
  
  ----------------------------------------------------------------------
  Ran 2 tests in 0.001s
  
  FAILED (failures=1)
  
  ```

- ì½”ë“œ : `</html>` ì¶”ê°€
  ```python
  def home_page(request):
      return HttpResponse('<html><title>To-Do lists</title></html>')
  ```

- í…ŒìŠ¤íŠ¸ : ì„±ê³µ
  ```python
  Ran 2 tests in 0.001s
  
  OK
  Destroying test database for alias 'default'...
  
  ```

ë§ˆì§€ë§‰ìœ¼ë¡œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•˜ê³  ë! ğŸ‰
